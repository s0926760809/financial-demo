{"level":"warning","msg":"Config file not found, using defaults","time":"2025-06-04T06:57:16+08:00"}
{"error":"mkdir /var/log/audit: permission denied","level":"warning","msg":"無法創建日誌目錄","time":"2025-06-04T06:57:16+08:00"}
{"address":"0.0.0.0:8083","level":"info","msg":"Starting Audit Service","time":"2025-06-04T06:57:16+08:00"}
{"audit_request":{"id":"2cc564e7-764a-4475-b5d2-81e8aa1930dc","timestamp":"2025-06-04T06:57:21.338859+08:00","service":"audit-service","action":"GET /health","user_id":"","resource_id":"","details":{"headers":{"Accept":["*/*"],"User-Agent":["curl/8.7.1"]},"query":""},"client_ip":"::1","user_agent":"curl/8.7.1","severity":"INFO","status":"PROCESSING"},"body_size":0,"level":"info","msg":"審計服務請求","remote_addr":"[::1]:57276","time":"2025-06-04T06:57:21+08:00"}
{"duration_ms":2,"level":"info","method":"GET","msg":"HTTP請求處理","path":"/health","status":200,"time":"2025-06-04T06:57:21+08:00"}
[GIN] 2025/06/04 - 06:57:21 | 200 |    2.180958ms |             ::1 | GET      "/health"
{"audit_request":{"id":"4f842bb5-dd72-4ab4-9710-35f4f7f3c9b8","timestamp":"2025-06-04T06:57:27.96679+08:00","service":"audit-service","action":"GET /health","user_id":"","resource_id":"","details":{"headers":{"Accept":["*/*"],"User-Agent":["curl/8.7.1"]},"query":""},"client_ip":"::1","user_agent":"curl/8.7.1","severity":"INFO","status":"PROCESSING"},"body_size":0,"level":"info","msg":"審計服務請求","remote_addr":"[::1]:57292","time":"2025-06-04T06:57:27+08:00"}
{"duration_ms":0,"level":"info","method":"GET","msg":"HTTP請求處理","path":"/health","status":200,"time":"2025-06-04T06:57:27+08:00"}
[GIN] 2025/06/04 - 06:57:27 | 200 |     459.584µs |             ::1 | GET      "/health"
{"audit_request":{"id":"566134d5-b3ca-4819-ae75-05a3fdec69d6","timestamp":"2025-06-04T06:58:03.423639+08:00","service":"audit-service","action":"POST /audit/log","user_id":"","resource_id":"","details":{"headers":{"Accept":["*/*"],"Content-Length":["178"],"Content-Type":["application/json"],"User-Agent":["curl/8.7.1"]},"query":""},"client_ip":"::1","user_agent":"curl/8.7.1","severity":"INFO","status":"PROCESSING"},"body_size":178,"level":"info","msg":"審計服務請求","remote_addr":"[::1]:57354","time":"2025-06-04T06:58:03+08:00"}
{"audit_log":{"id":"0bec4d91-4887-4387-a2ab-f6027e496f46","timestamp":"2025-06-04T06:58:03.424529+08:00","service":"trading-api","action":"order_created","user_id":"demo_user","resource_id":"ORDER-123","details":{"amount":11750,"symbol":"TSLA"},"client_ip":"::1","user_agent":"curl/8.7.1","severity":"info","status":"success"},"full_request":{"service":"trading-api","action":"order_created","user_id":"demo_user","resource_id":"ORDER-123","details":{"amount":11750,"symbol":"TSLA"},"severity":"info","status":"success"},"internal_ip":"","level":"info","msg":"審計事件記錄","request_headers":{"Accept":["*/*"],"Content-Length":["178"],"Content-Type":["application/json"],"User-Agent":["curl/8.7.1"]},"session_data":"","time":"2025-06-04T06:58:03+08:00"}
{"error":"open /var/log/audit/audit_2025-06-04.log: no such file or directory","level":"error","msg":"寫入審計日誌文件失敗","time":"2025-06-04T06:58:03+08:00"}
{"error":"dial tcp :0: connect: can't assign requested address","level":"error","msg":"存儲審計日誌到Redis失敗","time":"2025-06-04T06:58:03+08:00"}
{"duration_ms":68,"level":"info","method":"POST","msg":"HTTP請求處理","path":"/audit/log","status":201,"time":"2025-06-04T06:58:03+08:00"}
[GIN] 2025/06/04 - 06:58:03 | 201 |   68.061959ms |             ::1 | POST     "/audit/log"
{"audit_request":{"id":"19a7dc62-c708-4a08-b263-cbbd8f8415fd","timestamp":"2025-06-04T08:00:29.888348+08:00","service":"audit-service","action":"GET /health","user_id":"","resource_id":"","details":{"headers":{"Accept":["*/*"],"User-Agent":["curl/8.7.1"]},"query":""},"client_ip":"::1","user_agent":"curl/8.7.1","severity":"INFO","status":"PROCESSING"},"body_size":0,"level":"info","msg":"審計服務請求","remote_addr":"[::1]:64044","time":"2025-06-04T08:00:29+08:00"}
{"duration_ms":8,"level":"info","method":"GET","msg":"HTTP請求處理","path":"/health","status":200,"time":"2025-06-04T08:00:29+08:00"}
[GIN] 2025/06/04 - 08:00:29 | 200 |    8.917167ms |             ::1 | GET      "/health"
{"audit_request":{"id":"c3ca8386-48be-4605-8557-c92349a42567","timestamp":"2025-06-04T08:14:37.111033+08:00","service":"audit-service","action":"GET /health","user_id":"","resource_id":"","details":{"headers":{"Accept":["*/*"],"User-Agent":["curl/8.7.1"]},"query":""},"client_ip":"::1","user_agent":"curl/8.7.1","severity":"INFO","status":"PROCESSING"},"body_size":0,"level":"info","msg":"審計服務請求","remote_addr":"[::1]:49673","time":"2025-06-04T08:14:37+08:00"}
{"duration_ms":6,"level":"info","method":"GET","msg":"HTTP請求處理","path":"/health","status":200,"time":"2025-06-04T08:14:37+08:00"}
[GIN] 2025/06/04 - 08:14:37 | 200 |    6.424625ms |             ::1 | GET      "/health"
{"audit_request":{"id":"23cafb1b-9518-483a-8a89-f361fd81a414","timestamp":"2025-06-04T08:33:12.775563+08:00","service":"audit-service","action":"GET /health","user_id":"","resource_id":"","details":{"headers":{"Accept":["*/*"],"User-Agent":["curl/8.7.1"]},"query":""},"client_ip":"::1","user_agent":"curl/8.7.1","severity":"INFO","status":"PROCESSING"},"body_size":0,"level":"info","msg":"審計服務請求","remote_addr":"[::1]:52286","time":"2025-06-04T08:33:12+08:00"}
{"duration_ms":8,"level":"info","method":"GET","msg":"HTTP請求處理","path":"/health","status":200,"time":"2025-06-04T08:33:12+08:00"}
[GIN] 2025/06/04 - 08:33:12 | 200 |    8.701042ms |             ::1 | GET      "/health"
